<h1>Employee Table</h1>

<table>
    <thead>
         <tr>
            <th>Employee ID</th>
            <th>Dealership location</th>
            <th>Employee Address</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Phone Number</th>
            <th>Email</th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        {{#each employees}}
        <tr>
            <td>{{this.employeeID}}</td>
            <td>{{this.location}}</td>
            <td>{{this.Address}}</td>
            <td>{{this.firstName}}</td>
            <td>{{this.lastName}}</td>
            <td>{{this.phoneNumber}}</td>
            <td>{{this.email}}</td>

            {{! DELETE form }}
            <td>
                <form id='delete_employee_form' action="/Employees/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete this employee record? This cannot be undone.');">
                    <input type='hidden' name='delete_employee_id' value='{{this.employeeID}}' />
                    <button type='submit'>
                        Delete
                    </button>
                </form>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>

{{! CREATE form }}
<h2>Add an Employee</h2>
<form class='cuForm' id='add_employee_form' action="/Employees/create" method="POST" >
    <label for='add_employee_address'>Address </label>
    <select name='location_ID' id='add_employee_address' required>
        <option value="" disabled selected>Select an Address</option> 
        <option value='NULL'>&lt; None &gt;</option>
        {{#each addresses}}
        <option value='{{this.addressID}}' required>{{this.street}} {{this.state}} {{this.city}} {{this.zipCode}}</option>
        {{/each}}
    </select>

    <label for='add_emplyee_location'>Dealership Location </label>
    <select name='address_ID' id='create_employee_location' required>
        <option value="" disabled selected>Select a Location</option>
        <option value='NULL'>&lt; None &gt;</option>
        {{#each locations}}
        <option value='{{this.locationID}}' required>{{this.locationName}}</option>
        {{/each}}
    </select>

    <label for='add_employee_firstName'>First Name: </label>
    <input type='text' name='first_name' id='add_employee_firstName' required pattern='[A-Za-z]+' title='Please use only letters (no numbers or symbols)'/>

    <label for='add_employee_lastName'>Last Name: </label>
    <input type='text' name='last_name' id='add_employee_lastName' required pattern='[A-Za-z]+' title='Please use only letters (no numbers or symbols)'/>

    <label for='add_employee_phoneNumber'>Phone Number: </label>
    <input type='text' name='phone_number' id='add_employee_phoneNumber' required pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" title="Format: 555-706-3410"/>

    <label for='add_employee_email'>Email Address:</label>
    <input type='email' name='email' id='add_employee_email' required/>

    <input type='submit' />
</form>

{{! UPDATE form }}
<h2>Update an Employee</h2>
<form class='cuForm' id='update_employee_form' action="/Employees/update" method="POST">
    <label for='update_employee_id'>Employee to Update: </label>
    <select name='update_employee_ID' id='update_employee_id' required>
        <option value='' disabled selected>Select a employee</option>
        {{#each employees}}
        <option value='{{this.employeeID}}' required>
            <td>{{this.firstName}}</td>
            <td>{{this.lastName}}</td>
        </option>
        {{/each}}
    </select>

    <label for='update_employee_address'>Address: </label>
    <select name='location_ID' id='update_employee_address' required>
        <option value='' disabled selected>Select an Address</option>
        <option value='NULL'>&lt; None &gt;</option>
        {{#each addresses}}
        <option value='{{this.addressID}}' required>
            {{this.street}} {{this.state}} {{this.city}} {{this.zipCode}}
        </option>
        {{/each}}
    </select>

    <label for='update_emplyee_location'>Dealership Location </label>
    <select name='address_ID' id='update_employee_location' required>
       <option value='' disabled selected>Select a Location</option>
        <option value='NULL'>&lt; None &gt;</option>
        {{#each locations}}
        <option value='{{this.locationID}}' required>{{this.locationName}}</option>
        {{/each}}
    </select>

    <label for='update_employee_firstName'>First Name: </label>
    <input type='text' name='first_name' id='update_employee_firstName' required pattern='[A-Za-z]+' title='Please use only letters (no numbers or symbols)'/>

    <label for='update_employee_lastName'>Last Name: </label>
    <input type='text' name='last_name' id='update_employee_lastName' required pattern='[A-Za-z]+' title='Please use only letters (no numbers or symbols)'/>

    <label for='update_employee_phoneNumber'>Phone Number: </label>
    <input type='text' name='phone_number' id='update_employee_phoneNumber' required pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" title="Format: 555-706-3410" />

    <label for='update_employee_email'>Email Address:</label>
    <input type='email' name='email' id='update_employee_email' />   

    <input type='submit' />
</form>