<h1>Vehicle Table</h1>

<table>
    <thead>
        <tr>
            {{#each vehicles.[0]}}
            <th>
                {{@key}}
            </th>
            {{/each}}
            <th></th>
        </tr>
    </thead>

    <tbody>
        {{#each vehicles}}
        <tr>
            <td>{{this.vehicleID}}</td>
            <td>{{this.year}}</td>
            <td>{{this.model}}</td>
            <td>{{this.type}}</td>
            <td>{{this.vehiclePrice}}</td>

            {{! DELETE form }}
            <td>
                <form id='delete_vehicle_form' action="/Vehicles/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete this vehicle record? This cannot be undone.');">
                    <input type='hidden' name='delete_vehicle_id' value='{{this.vehicleID}}' />
                    <button type='submit'>
                        Delete
                    </button>
                </form>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>

{{! CREATE form }}
<h2>Add a Vehicle</h2>
<form class='cuForm' id='add_vehicle_form' action="/Vehicles/create" method="POST">
    <label for='add_vehicle_year'>Year: </label>
    <input type='number' name='year' id='add_vehicle_year' min="1900" max="2100" step="1" placeholder="YYYY" required />

    <label for='add_vehicle_model'>Model: </label>
    <input type='text' name='model' id='add_vehicle_model' required/>

    <label for='add_vehicle_type'>Type: </label>
    <input type='text' name='type' id='add_vehicle_type' required/>

    <label for='add_vehicle_price'>Vehicle Price: </label>
    <input type='number' name='vehicle_price' id='add_vehicle_price' required min="0.01" step="0.01"/>

    <input type='submit' />
</form>

{{! UPDATE form }}
<h2>Update a Vehicle</h2>
<form class='cuForm' id='update_vehicle_form' action="/Vehicles/update" method="POST">
    <label for='update_vehicle_ID'>Vehicle to Update: </label>
    <select name='update_vehicle_ID' id='update_vehicle_ID' required>
        <option value='' disabled selected>Select a Vehicle</option>
        {{#each vehicles}}
        <option value='{{this.vehicleID}}' required>
            {{this.year}}
            {{this.model}}
            {{this.type}}
        </option>
        {{/each}}
    </select>
    <label for='update_vehicle_year'>New Vehicle Year:</label>
    <input type='number' name='year' id='update_vehicle_year' min="1900" max="2100" step="1" placeholder="YYYY" required/>

    <label for='update_vehicle_model'>New Vehicle Model:</label>
    <input type='text' name='model' id='update_vehicle_model' placeholder='New Vehicle Model' required/>

    <label for='update_vehicle_type'>New Vehicle Type:</label>
    <input type='text' name='type' id='update_vehicle_type' placeholder='New Vehicle Type' required/>

    <label for='update_vehicle_price'>New Vehicle Price:</label>
    <input type='number' name='vehicle_price' id='update_vehicle_price' required/>

    <input type='submit' />
</form>